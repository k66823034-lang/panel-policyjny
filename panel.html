<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel Policyjny - System Raportowania</title>
    <style>
        /* CSS DLA CA≈ÅEJ STRONY */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f7f6;
            color: #333;
        }

        header {
            background-color: #004d99; /* Policyjny niebieski */
            color: white;
            padding: 20px 0;
            text-align: center;
        }

        .container {
            width: 90%;
            max-width: 1400px;
            margin: 20px auto;
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        /* Sekcja Logowania */
        .login-box {
            background-color: #fff;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
            text-align: center;
            max-width: 400px;
            margin: 50px auto;
        }
        
        .main-content {
            display: none; /* Domy≈õlnie ukryte */
        }
        
        .error-message {
            color: red;
            margin-top: 10px;
            font-weight: bold;
        }
        
        /* Pasek Menu i Przyciski */
        .menu-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 20px;
            background-color: #e9ecef;
            border-radius: 4px;
            margin-bottom: 20px;
        }

        /* Stylizacja Zak≈Çadek (Tabs) */
        .tabs {
            display: flex;
            flex-wrap: wrap; 
            border-bottom: 2px solid #ccc;
            margin-bottom: 20px;
        }

        .tab-label {
            padding: 10px 15px;
            cursor: pointer;
            border: 1px solid transparent;
            border-bottom: none;
            margin-bottom: -2px; 
            transition: background-color 0.3s;
            font-weight: bold;
            color: #555;
            flex-grow: 1;
            text-align: center;
        }

        .tab-label:hover {
            background-color: #e9e9e9;
        }

        /* Ukrycie domy≈õlnych radio button√≥w */
        .tabs input[type="radio"] {
            display: none;
        }

        /* Ukrycie wszystkich tre≈õci */
        .tab-content {
            display: none;
            padding: 20px 0;
            border-top: 2px solid #ccc;
            width: 100%; /* Upewnij siƒô, ≈ºe content zajmuje ca≈ÇƒÖ szeroko≈õƒá */
        }

        /* Pokazanie aktywnej tre≈õci */
        #tab-create:checked ~ .content-create,
        #tab-archive:checked ~ .content-archive,
        /* Style dla poszczeg√≥lnych raport√≥w (wewnƒÖtrz content-create) */
        #subtab1:checked ~ .subcontent-1, #subtab2:checked ~ .subcontent-2, #subtab3:checked ~ .subcontent-3, 
        #subtab4:checked ~ .subcontent-4, #subtab5:checked ~ .subcontent-5, #subtab6:checked ~ .subcontent-6, 
        #subtab7:checked ~ .subcontent-7, #subtab8:checked ~ .subcontent-8, #subtab9:checked ~ .subcontent-9 {
            display: block;
        }
        
        /* Aktywny kolor zak≈Çadki g≈Ç√≥wnej */
        .tabs input[type="radio"]:checked + .tab-label {
            background-color: #004d99;
            color: white;
            border-color: #004d99;
            border-radius: 4px 4px 0 0;
            border-bottom: 2px solid white;
        }

        /* Sub-taby (raporty) */
        .subtabs {
            display: flex;
            flex-wrap: wrap; 
            border-bottom: 1px solid #ddd;
            margin-bottom: 15px;
        }
        
        .subtabs .tab-label {
            font-size: 0.9em;
            padding: 8px 12px;
            border-radius: 4px 4px 0 0;
            border: 1px solid transparent;
            border-bottom: none;
        }
        
        .subtabs input[type="radio"]:checked + .tab-label {
            background-color: #f0f0f0; 
            color: #004d99;
            border-color: #ddd;
            border-bottom: 1px solid #f0f0f0;
        }

        /* Formularze i Siatki */
        .grid-2, .grid-3 {
            display: grid;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .grid-2 {
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        }

        .grid-3 {
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        }
        
        /* Archiwum - Tabela */
        .archive-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        .archive-table th, .archive-table td {
            border: 1px solid #ddd;
            padding: 10px;
            text-align: left;
        }

        .archive-table th {
            background-color: #004d99;
            color: white;
            cursor: pointer;
        }
        
        /* Filtry w Archiwum */
        .archive-controls {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
            align-items: center;
        }
        
        .archive-controls select {
            padding: 8px;
            border-radius: 4px;
        }

        /* Elementy formularza */
        .form-group {
            margin-bottom: 15px;
            display: flex;
            flex-direction: column;
        }

        .form-group label {
            font-weight: 600;
            margin-bottom: 5px;
        }

        .form-group input[type="text"], .form-group textarea, .form-group input[type="date"], 
        .form-group input[type="password"], .form-group select, .form-group input[type="datetime-local"] {
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 1em;
        }
        
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.3s;
        }
        
        .btn-submit {
            background-color: #28a745; 
            color: white;
        }
        
        .btn-secondary {
            background-color: #6c757d;
            color: white;
        }
        
    </style>
</head>
<body>
    <header>
        <h1>üöî Panel Policyjny - System Raportowania</h1>
    </header>

    <div class="login-box" id="loginArea">
        <h2>Logowanie S≈Çu≈ºbowe</h2>
        <div class="form-group">
            <label for="officerID">ID Funkcjonariusza (test: **12345**):</label>
            <input type="text" id="officerID" required>
        </div>
        <div class="form-group">
            <label for="password">Has≈Ço (test: **12345**):</label>
            <input type="password" id="password" required>
        </div>
        <button class="btn btn-submit" onclick="handleLogin()">Zaloguj</button>
        <div id="loginError" class="error-message" style="display: none;">B≈Çƒôdne ID lub has≈Ço. Spr√≥buj ponownie.</div>
    </div>

    <div class="container main-content" id="mainPanel">
        
        <div class="menu-bar">
            <div>
                <span>Zalogowano jako: **ID Funkcjonariusza: <span id="loggedOfficerId"></span>**</span>
            </div>
            <div class="action-buttons">
                <button class="btn btn-secondary" onclick="simulateSavePDF()">üíæ Zapisz do PDF</button>
                <button class="btn btn-secondary" onclick="handleLogout()">Wyloguj</button>
            </div>
        </div>
        
        <div class="tabs">
            <input type="radio" name="main-tabs" id="tab-create" checked>
            <label class="tab-label" for="tab-create">‚úçÔ∏è Tw√≥rz Raport</label>

            <input type="radio" name="main-tabs" id="tab-archive">
            <label class="tab-label" for="tab-archive" onclick="filterReports()">üóÉÔ∏è Archiwum Raport√≥w</label>
            
            <div class="tab-content content-create">
                <div class="subtabs">
                    <input type="radio" name="subtabs" id="subtab1" checked>
                    <label class="tab-label" for="subtab1">1. Zatrzymanie</label>
                    <input type="radio" name="subtabs" id="subtab2">
                    <label class="tab-label" for="subtab2">2. Doprowadzenie</label>
                    <input type="radio" name="subtabs" id="subtab3">
                    <label class="tab-label" for="subtab3">3. Notatka Dzielnicowy</label>
                    <input type="radio" name="subtabs" id="subtab4">
                    <label class="tab-label" for="subtab4">4. Niebieska Karta</label>
                    <input type="radio" name="subtabs" id="subtab5">
                    <label class="tab-label" for="subtab5">5. Zdarzenie Drogowe</label>
                    <input type="radio" name="subtabs" id="subtab6">
                    <label class="tab-label" for="subtab6">6. Interwencja Domowa</label>
                    <input type="radio" name="subtabs" id="subtab7">
                    <label class="tab-label" for="subtab7">7. Raport z Patrolu</label>
                    <input type="radio" name="subtabs" id="subtab8">
                    <label class="tab-label" for="subtab8">8. Raport do Prokuratury</label>
                    <input type="radio" name="subtabs" id="subtab9">
                    <label class="tab-label" for="subtab9">9. Zabezpieczenie Dowod√≥w</label>

                    <div class="tab-content subcontent-1">
                        <h2>1. üìù Raport Zatrzymania</h2>
                        <form class="report-form" data-type="Zatrzymanie">
                            <fieldset><legend>SZCZEG√ì≈ÅY ZATRZYMANIA</legend><div class="grid-2"><div class="form-group"><label>Imiƒô i Nazwisko Zatrzymanego</label><input type="text"></div><div class="form-group"><label>PESEL Zatrzymanego</label><input type="text"></div><div class="form-group"><label>Adres zamieszkania Zatrzymanego</label><input type="text"></div><div class="form-group"><label>Pow√≥d zatrzymania</label><input type="text"></div></div><div class="form-group"><label>Okoliczno≈õci zdarzenia</label><textarea rows="4"></textarea></div><div class="form-group"><label>≈örodki przymusu u≈ºyte podczas zatrzymania</label><input type="text"></div><div class="form-group"><label>Osoby uczestniczƒÖce w zatrzymaniu</label><textarea rows="3"></textarea></div><div class="form-group"><label>Dokumentacja fotograficzna</label><input type="file" multiple></div><div class="form-group"><label>Podpisy funkcjonariuszy</label><input type="text" placeholder="Wpisaƒá / Pole na podpis elektroniczny"></div></fieldset><div class="form-actions"><button type="submit" class="btn btn-submit">Zapisz Raport Zatrzymania</button></div>
                        </form>
                    </div>

                    <div class="tab-content subcontent-2">
                        <h2>2. üöî Doprowadzenie Osoby</h2>
                        <form class="report-form" data-type="Doprowadzenie">
                            <fieldset><legend>SZCZEG√ì≈ÅY DOPROWADZENIA</legend><div class="grid-2"><div class="form-group"><label>Imiƒô i Nazwisko doprowadzanej osoby</label><input type="text"></div><div class="form-group"><label>PESEL doprowadzanej osoby</label><input type="text"></div><div class="form-group"><label>Cel doprowadzenia</label><input type="text"></div><div class="form-group"><label>Osoby odpowiedzialne za doprowadzenie</label><input type="text"></div></div><div class="grid-2"><div class="form-group"><label>Trasa i ≈õrodek transportu</label><input type="text"></div><div class="form-group"><label>Uwagi dotyczƒÖce zachowania osoby doprowadzanej</label><input type="text"></div></div><div class="form-group"><label>Ewentualne incydenty w trakcie doprowadzenia</label><textarea rows="3"></textarea></div></fieldset><div class="form-actions"><button type="submit" class="btn btn-submit">Zapisz Raport Doprowadzenia</button></div>
                        </form>
                    </div>
                    
                    <div class="tab-content subcontent-3">
                        <h2>3. ‚úâÔ∏è Notatka dla Dzielnicowego</h2>
                        <form class="report-form" data-type="Notatka Dzielnicowego">
                            <fieldset><legend>TRE≈öƒÜ NOTATKI</legend><div class="form-group"><label>Dane osoby zg≈ÇaszajƒÖcej lub zdarzenia</label><input type="text"></div><div class="form-group"><label>Opis sytuacji / problemu</label><textarea rows="5"></textarea></div><div class="form-group"><label>Propozycje dzia≈Ça≈Ñ dzielnicowego</label><textarea rows="3"></textarea></div><div class="grid-2"><div class="form-group"><label>Termin wykonania dzia≈Ça≈Ñ</label><input type="date"></div><div class="form-group"><label>Uwagi dodatkowe</label><input type="text"></div></div></fieldset><div class="form-actions"><button type="submit" class="btn btn-submit">Zapisz Notatkƒô</button></div>
                        </form>
                    </div>
                    
                    <div class="tab-content subcontent-4">
                        <h2>4. üíî Niebieska Karta - Przemoc Domowa</h2>
                        <form class="report-form" data-type="Niebieska Karta">
                            <fieldset><legend>DANE OS√ìB</legend><div class="grid-2"><div class="form-group"><label>Imiƒô i Nazwisko Pokrzywdzonego</label><input type="text"></div><div class="form-group"><label>Imiƒô i Nazwisko Sprawcy</label><input type="text"></div><div class="form-group"><label>PESEL Pokrzywdzonego</label><input type="text"></div><div class="form-group"><label>PESEL Sprawcy</label><input type="text"></div></div></fieldset><fieldset><legend>SZCZEG√ì≈ÅY ZDARZENIA</legend><div class="form-group"><label>Rodzaj przemocy</label><select multiple><option>Fizyczna</option><option>Psychiczna</option><option>Ekonomiczna</option><option>Seksualna</option></select></div><div class="form-group"><label>Opis zdarzenia i okoliczno≈õci</label><textarea rows="5"></textarea></div><div class="form-group"><label>≈öwiadkowie zdarzenia</label><input type="text"></div><div class="grid-2"><div class="form-group"><label>Termin kolejnych wizyt / kontroli</label><input type="date"></div><div class="form-group"><label>Podejmowane dzia≈Çania interwencyjne / Informacje o wsparciu</label><input type="text"></div></div></fieldset><div class="form-actions"><button type="submit" class="btn btn-submit">Zapisz NiebieskƒÖ Kartƒô</button></div>
                        </form>
                    </div>
                    
                    <div class="tab-content subcontent-5">
                        <h2>5. üöó Zdarzenie Drogowe</h2>
                        <form class="report-form" data-type="Zdarzenie Drogowe">
                            <fieldset><legend>DANE G≈Å√ìWNYCH UCZESTNIK√ìW</legend><div class="grid-2"><div class="form-group"><label>Imiƒô i Nazwisko Kierowcy / Pieszego</label><input type="text"></div><div class="form-group"><label>PESEL Kierowcy / Pieszego</label><input type="text"></div><div class="form-group"><label>Marka / Model Pojazdu</label><input type="text"></div><div class="form-group"><label>Nr Rejestracyjny</label><input type="text"></div></div><div class="form-group"><label>Dodatkowi uczestnicy</label><textarea rows="3"></textarea></div></fieldset><fieldset><legend>OPIS ZDARZENIA</legend><div class="form-group"><label>Opis zdarzenia i jego przyczyny</label><textarea rows="4"></textarea></div><div class="grid-3"><div class="form-group"><label>Szkody materialne</label><input type="text"></div><div class="form-group"><label>Ranni / poszkodowani</label><input type="text"></div><div class="form-group"><label>≈öwiadkowie</label><input type="text"></div></div><div class="form-group"><label>Dokumentacja fotograficzna / szkic zdarzenia</label><input type="file" multiple></div><div class="form-group"><label>Podjƒôte dzia≈Çania</label><input type="text"></div></fieldset><div class="form-actions"><button type="submit" class="btn btn-submit">Zapisz Raport Drogowy</button></div>
                        </form>
                    </div>
                    
                    <div class="tab-content subcontent-6">
                        <h2>6. üè° Interwencja Domowa</h2>
                        <form class="report-form" data-type="Interwencja Domowa">
                            <fieldset><legend>SZCZEG√ì≈ÅY INTERWENCJI DOMOWEJ</legend><div class="grid-2"><div class="form-group"><label>Adres interwencji</label><input type="text"></div><div class="form-group"><label>Pow√≥d interwencji</label><select><option>K≈Ç√≥tnia</option><option>Przemoc</option><option>Zak≈Ç√≥canie porzƒÖdku</option></select></div></div><div class="form-group"><label>Dane os√≥b uczestniczƒÖcych w interwencji</label><textarea rows="3"></textarea></div><div class="form-group"><label>Opis sytuacji na miejscu</label><textarea rows="4"></textarea></div><div class="form-group"><label>Podejmowane dzia≈Çania przez funkcjonariuszy</label><textarea rows="3"></textarea></div><div class="grid-2"><div class="form-group"><label>≈öwiadkowie lub osoby trzecie</label><input type="text"></div><div class="form-group"><label>Zabezpieczenie os√≥b lub mienia</label><input type="text"></div></div><div class="form-group"><label>Dalsze kroki</label><input type="text"></div></fieldset><div class="form-actions"><button type="submit" class="btn btn-submit">Zapisz Raport Interwencji</button></div>
                        </form>
                    </div>
                    
                    <div class="tab-content subcontent-7">
                        <h2>7. üö¶ Raport z Patrolu</h2>
                        <form class="report-form" data-type="Raport z Patrolu">
                            <fieldset><legend>DANE S≈ÅU≈ªBY</legend><div class="grid-3"><div class="form-group"><label>Jednostka</label><input type="text"></div><div class="form-group"><label>Numer zmiany</label><input type="text"></div><div class="form-group"><label>Nazwiska i stopnie funkcjonariuszy</label><input type="text"></div></div><div class="grid-2"><div class="form-group"><label>Data i godzina s≈Çu≈ºby (PoczƒÖtek)</label><input type="datetime-local"></div><div class="form-group"><label>Data i godzina s≈Çu≈ºby (Koniec)</label><input type="datetime-local"></div></div><div class="form-group"><label>Obszar objƒôty patrolem</label><input type="text"></div></fieldset><fieldset><legend>PRZEBIEG PATROLU</legend><div class="form-group"><label>Opis podjƒôtych dzia≈Ça≈Ñ</label><textarea rows="4"></textarea></div><div class="form-group"><label>Opis zdarze≈Ñ</label><textarea rows="4"></textarea></div><div class="form-group"><label>Podjƒôte decyzje i czynno≈õci</label><textarea rows="3"></textarea></div></fieldset><div class="form-group"><label>Uwagi i wnioski</label><textarea rows="3"></textarea></div><div class="form-group"><label>Podpisy funkcjonariuszy</label><input type="text" placeholder="Wpisaƒá / Pole na podpis elektroniczny"></div><div class="form-actions"><button type="submit" class="btn btn-submit">Zapisz Raport z Patrolu</button></div>
                        </form>
                    </div>
                    
                    <div class="tab-content subcontent-8">
                        <h2>8. üèõÔ∏è Raport do Prokuratury</h2>
                        <form class="report-form" data-type="Raport do Prokuratury">
                            <fieldset><legend>DANE SPRAWY</legend><div class="grid-3"><div class="form-group"><label>Numer sprawy</label><input type="text"></div><div class="form-group"><label>Data wszczƒôcia</label><input type="date"></div><div class="form-group"><label>Miejsce zdarzenia</label><input type="text"></div></div><div class="form-group"><label>Dane os√≥b</label><textarea rows="3"></textarea></div></fieldset><fieldset><legend>TRE≈öƒÜ RAPORTU</legend><div class="form-group"><label>Opis zdarzenia</label><textarea rows="5"></textarea></div><div class="form-group"><label>Dowody i dokumentacja</label><textarea rows="3"></textarea></div><div class="form-group"><label>≈öwiadkowie i ich zeznania</label><textarea rows="3"></textarea></div><div class="form-group"><label>Podjƒôte czynno≈õci</label><textarea rows="3"></textarea></div><div class="form-group"><label>Wnioski policji</label><input type="text"></div></fieldset><div class="grid-2"><div class="form-group"><label>Podpis funkcjonariusza prowadzƒÖcego sprawƒô</label><input type="text"></div><div class="form-group"><label>Podpis kierownika jednostki</label><input type="text"></div></div><div class="form-actions"><button type="submit" class="btn btn-submit">Wy≈õlij Raport do Prokuratury</button></div>
                        </form>
                    </div>
                    
                    <div class="tab-content subcontent-9">
                        <h2>9. üîç Raport o Zabezpieczeniu Dowod√≥w</h2>
                        <form class="report-form" data-type="Zabezpieczenie Dowod√≥w">
                            <fieldset><legend>DANE PODSTAWOWE</legend><div class="grid-3"><div class="form-group"><label>Numer sprawy</label><input type="text"></div><div class="form-group"><label>Miejsce zdarzenia</label><input type="text"></div><div class="form-group"><label>Data zdarzenia</label><input type="date"></div></div><div class="form-group"><label>Rodzaj dowod√≥w</label><input type="text"></div></fieldset><fieldset><legend>PROCEDURA ZABEZPIECZENIA</legend><div class="form-group"><label>Spos√≥b zabezpieczenia</label><textarea rows="4"></textarea></div><div class="form-group"><label>Osoby uczestniczƒÖce w zabezpieczeniu</label><input type="text"></div><div class="form-group"><label>Miejsce przechowywania dowod√≥w</label><input type="text"></div><div class="form-group"><label>Opis czynno≈õci krok po kroku</label><textarea rows="4"></textarea></div><div class="form-group"><label>Uwagi dodatkowe</label><input type="text"></div></fieldset><div class="form-group"><label>Podpisy os√≥b odpowiedzialnych</label><input type="text" placeholder="Wpisaƒá / Pole na podpis elektroniczny"></div><div class="form-actions"><button type="submit" class="btn btn-submit">Zapisz Raport Zabezpieczenia</button></div>
                        </form>
                    </div>

                </div> </div> <div class="tab-content content-archive">
                <h2>üóÉÔ∏è Archiwum Raport√≥w (Symulacja)</h2>
                
                <div class="archive-controls">
                    <label for="reportFilter">Filtruj wg typu:</label>
                    <select id="reportFilter" onchange="filterReports()">
                        <option value="Wszystkie">Wszystkie</option>
                        <option value="Zatrzymanie">Zatrzymanie</option>
                        <option value="Interwencja Domowa">Interwencja Domowa</option>
                        <option value="Raport z Patrolu">Raport z Patrolu</option>
                        <option value="Zdarzenie Drogowe">Zdarzenie Drogowe</option>
                        <option value="Niebieska Karta">Niebieska Karta</option>
                        </select>
                </div>
                
                <table class="archive-table">
                    <thead>
                        <tr>
                            <th>Nr Raportu</th>
                            <th>Typ</th>
                            <th>Data</th>
                            <th>Funkcjonariusz (ID)</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody id="archiveBody">
                        </tbody>
                </table>
            </div> </div> </div> <script>
        // DANE TESTOWE DO LOGOWANIA
        const correctId = "12345";
        const correctPassword = "12345";

        // DANE ARCHIWUM (SYMULACJA)
        let simulatedReports = [
            { id: 20250001, type: "Zatrzymanie", date: "2025-10-28", officerId: "12345", status: "Zako≈Ñczony" },
            { id: 20250002, type: "Interwencja Domowa", date: "2025-10-29", officerId: "12345", status: "W toku" },
            { id: 20250003, type: "Raport z Patrolu", date: "2025-10-29", officerId: "98765", status: "Zako≈Ñczony" },
            { id: 20250004, type: "Zdarzenie Drogowe", date: "2025-10-30", officerId: "98765", status: "Do Prokuratury" },
            { id: 20250005, type: "Niebieska Karta", date: "2025-10-31", officerId: "12345", status: "W toku" },
        ];
        
        // --- FUNKCJE LOGOWANIA ---
        
        function handleLogin() {
            const officerIdInput = document.getElementById('officerID').value;
            const passwordInput = document.getElementById('password').value;
            const loginArea = document.getElementById('loginArea');
            const mainPanel = document.getElementById('mainPanel');
            const loginError = document.getElementById('loginError');
            const loggedOfficerIdSpan = document.getElementById('loggedOfficerId');

            if (officerIdInput === correctId && passwordInput === correctPassword) {
                loginArea.style.display = 'none';
                mainPanel.style.display = 'block';
                loggedOfficerIdSpan.textContent = officerIdInput; 
                loginError.style.display = 'none';
                generateArchiveTable(simulatedReports); // Generuj tabelƒô po zalogowaniu
            } else {
                loginError.style.display = 'block';
            }
        }

        function handleLogout() {
            const loginArea = document.getElementById('loginArea');
            const mainPanel = document.getElementById('mainPanel');
            mainPanel.style.display = 'none';
            loginArea.style.display = 'block';
            document.getElementById('officerID').value = '';
            document.getElementById('password').value = '';
        }
        
        // --- FUNKCJE ARCHIWUM ---

        /**
         * Generuje wiersze tabeli z danych.
         * @param {Array} data - Lista obiekt√≥w raport√≥w.
         */
        function generateArchiveTable(data) {
            const body = document.getElementById('archiveBody');
            body.innerHTML = ''; // Wyczy≈õƒá poprzednie wiersze

            data.forEach(report => {
                const row = body.insertRow();
                row.innerHTML = `
                    <td>${report.id}</td>
                    <td>${report.type}</td>
                    <td>${report.date}</td>
                    <td>${report.officerId}</td>
                    <td>${report.status}</td>
                `;
            });
        }
        
        /**
         * Filtruje tabelƒô na podstawie wybranej warto≈õci z listy rozwijanej.
         */
        function filterReports() {
            const filterValue = document.getElementById('reportFilter').value;
            let filteredData = simulatedReports;

            if (filterValue !== 'Wszystkie') {
                filteredData = simulatedReports.filter(report => report.type === filterValue);
            }
            
            generateArchiveTable(filteredData);
        }

        // --- FUNKCJE AKCJI I ZAPISU ---

        /**
         * Symuluje zapis raportu i dodaje go do symulowanej listy.
         * @param {string} reportName - Nazwa raportu.
         * @param {string} officerId - ID zalogowanego funkcjonariusza.
         */
        function submitReport(reportName, officerId) {
            alert(`‚úÖ Sukces! ${reportName} zosta≈Ç zapisany (symulacja zapisu do bazy danych).`);
            
            // Symulacja dodania nowego raportu do Archiwum
            const newId = simulatedReports.length > 0 ? simulatedReports[simulatedReports.length - 1].id + 1 : 20250001;
            const today = new Date().toISOString().split('T')[0];

            simulatedReports.push({ 
                id: newId, 
                type: reportName, 
                date: today, 
                officerId: officerId, 
                status: "OczekujƒÖcy" 
            });
            
            // Opcjonalnie: wyczy≈õƒá pola formularza
            // event.target.reset();
        }

        /**
         * Symuluje generowanie i zapis do PDF.
         */
        function simulateSavePDF() {
            alert("üìÑ Trwa generowanie dokumentu PDF... (Symulacja eksportu).");
        }

        // --- INICJALIZACJA ---
        
        document.addEventListener('DOMContentLoaded', () => {
            // Ustawienie submitReport jako funkcji dla ka≈ºdego formularza
            const forms = document.querySelectorAll('.report-form');
            forms.forEach(form => {
                form.addEventListener('submit', function(event) {
                    event.preventDefault();
                    
                    const reportName = this.getAttribute('data-type');
                    const loggedOfficerId = document.getElementById('loggedOfficerId').textContent;

                    submitReport(reportName, loggedOfficerId);
                });
            });
            
            // Generuj poczƒÖtkowƒÖ tabelƒô archiwum, nawet je≈õli nie jest widoczna
            generateArchiveTable(simulatedReports);
        });

    </script>
</body>
</html>
